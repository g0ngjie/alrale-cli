#!/usr/bin/env node
const ora=require("ora"),util=require("./utils"),print=require("./print");function koaBasicServices(e){e="[default]"===e?"koa2-basic-services-template":e;return util.DownloadTemplate("https://gitee.com:g0ngjie/koa2-basic-services-template#master",e)}function koaSqlite3BasicServices(e){e="[default]"===e?"koa2-sqlite3-template":e;return util.DownloadTemplate("https://gitee.com:g0ngjie/koa2-sqlite3-template#master",e)}function vue2BasicElementUI(e){e="[default]"===e?"vue2-basic-element-ui-template":e;return util.DownloadTemplate("https://gitee.com:g0ngjie/vue2-basic-element-ui-template#master",e)}function vue2BasicElementUIComponents(e){e="[default]"===e?"vue2-basic-element-ui-components":e;return util.DownloadTemplate("https://gitee.com:g0ngjie/vue2-basic-element-ui-components#master",e)}exports.InitTemplate=async function(){var{ok:e,msg:t,data:a}=await util.Inquirer([{type:"list",message:"模板选择",name:"template",choices:[{name:"koa2基础模板",value:"koa2-basic-template"},{name:"koa2+sqlite3+pkg基础模板",value:"koa2-sqlite3-basic-template"},{name:"vue2+ElementUI基础模板",value:"vue2-basic-element-ui-template"},{name:"vue2+ElementUI基础组件库",value:"vue2-basic-element-ui-components"}]},{type:"input",message:"模板名称",name:"custom",default:"[default]"}]);if(!e)return print.Error(t);const i=ora("Loading...").start();i.color="cyan",i.text="正在安装...";var{template:a,custom:s}=a;let n="";switch(a){case"koa2-basic-template":n=await koaBasicServices(s);break;case"koa2-sqlite3-basic-template":n=await koaSqlite3BasicServices(s);break;case"vue2-basic-element-ui-template":n=await vue2BasicElementUI(s);break;case"vue2-basic-element-ui-components":n=await vue2BasicElementUIComponents(s)}i.succeed("安装完成!"),i.stop(),print.Messages([`cd ${n}`,"yarn 或者 npm install 安装依赖","yarn serve 启动开发环境"])};