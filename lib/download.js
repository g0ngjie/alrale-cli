#!/usr/bin/env node
const download=require("download-git-repo"),path=require("path"),rimraf=require("rimraf"),ora=require("ora"),util=require("./utils"),print=require("./print");function downloadTemplate(e,t){var a=path.join(process.cwd(),t);return rimraf.sync(a,{}),new Promise((a,r)=>{download(e,t,{clone:!0},e=>{e?r(e):a(t)})})}function koaBasicServices(){return downloadTemplate("https://gitee.com:gjwork/koa2-basic-services-template#master","koa2-basic-services-template")}exports.InitTemplate=async function(){var{ok:e,msg:a,data:r}=await util.Inquirer([{type:"list",message:"模板选择",name:"template",choices:["koa2-basic-template"]}]);if(!e)return print.Error(a);const t=ora("Loading...").start();t.color="cyan",t.text="正在安装...";var{template:r}=r;let i=[];"koa2-basic-template"===r&&(r=await koaBasicServices(),i=[`cd ${r}`,"yarn 或者 npm install 安装依赖","yarn dev 启动开发环境"]),t.succeed("安装完成!"),t.stop(),print.Messages(i)};