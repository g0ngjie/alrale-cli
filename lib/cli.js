#!/usr/bin/env node
const program=require("commander"),PKG=require("../package.json"),{download:download,dict:dict,print:print,calc:calc,date:date,remote:remote}=require("./index");async function queryByDictionary(){const r=program.args.slice(1);var o=r.join(" "),{ok:a,msg:o}=await dict.Query(o);a?print.Message(o):print.Error(o)}function fmtTs(){var[r]=program.args.slice(1),{ok:o,msg:r}=date.FmtTimestamp(r);o&&print.Message(r)}function remoteFunc(r){!r.proverbs&&r.bing?([r]=program.args.slice(2),remote.GetBingImgList(r)):remote.GetProverbs()}program.version(PKG.version,"-v, -version"),program.command("help",{isDefault:!0}).description("帮助").action(()=>program.outputHelp()),program.command("init").description("初始化模板").action(download.InitTemplate),program.command("q <word|expressions>").description("翻译,查询中|英文单词，词句").action(queryByDictionary),program.command("ts [timestamp]").description("格式化时间戳,默认查询当前时间").action(fmtTs),program.command("calc").alias("c").description("计算器").action(()=>calc.Calc(!0)),program.command("remote").alias("r").description("远程获取, default: 获取一言数据").option("-p, --proverbs","箴言、言语、格言").option("-b, --bing [limit]","获取必应壁纸列表").action(remoteFunc),program.parse(process.argv);