#!/usr/bin/env node
const print=require("./print"),util=require("./utils");exports.GetProverbs=async function(){var{ok:t,msg:r,data:e}=await util.HttpsGet("https://v1.hitokoto.cn");t?({hitokoto:t,from:e}=JSON.parse(e),print.Message(`${t} ———— ${e}`)):print.Error(r)},exports.GetBingImgList=async function(r=1){r=`http://cn.bing.com/HPImageArchive.aspx?format=js&idx=${8*(r-1)}&n=8&mkt=zh-CN`;const{ok:t,msg:e,data:i}=await util.HttpGet(r);if(t){let t;if("[object Uint8Array]"===Object.prototype.toString.call(i))try{t=JSON.parse(i.toString())}catch(t){return print.Error("解析失败了~")}else"[object Object]"===Object.prototype.toString.call(i)&&(t=i);const{images:o=[]}=t||{};r=o.map((t,r)=>[`${r+1} ${t.copyright}`,`https://www.bing.com${t.url}`]),r=util.GetTable(r);print.Message(r)}else print.Error(e)};